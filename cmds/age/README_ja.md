# `age` - ファイルの最終更新経過秒数チェッカー

`age` は、指定されたファイルの最終更新時刻から現在までの経過秒数を計算する柔軟なシェルスクリプトです。さまざまな UNIX 系環境での互換性を高めるため、`stat`、`ls --time-style`、`find -printf` のいずれか使用可能な方法を自動検出して実行します。

## 特徴

- **柔軟かつ互換性重視**: ファイルの最終更新時刻を取得するために複数の方法を試し、多様な UNIX 系システムでの互換性を確保。
- **POSIX準拠のフォールバック**: 利用可能な場合は POSIX 準拠のツールを優先し、システム固有のオプションも活用。
- **外部依存なし**: 標準的な UNIX ツールのみを使用し、軽量で導入が簡単です。

## 使用方法

### 基本的なコマンド

```sh
$ age <file>
```

### 引数

- **`<file>`**: 最終更新からの経過時間を計算したいファイルの絶対パスまたは相対パスを指定します。

## 出力

- 正常に取得できた場合、`age` はそのファイルの最終更新から経過した秒数を出力します。
- 指定されたファイルが存在しない、またはアクセスできない場合、もしくは更新時刻を取得できない場合は、適切なエラーメッセージを表示します。

## 使用例

```sh
$ age file.txt
3600
```

上記の例では、出力の `3600` は、そのファイルの最終更新から 3,600 秒（1時間）が経過したことを示します。

## 実装の詳細

`age` スクリプトは、ファイルの最終更新時刻を取得するために以下の順序で複数の方法を試行します。

1. **GNU `stat`**: `stat` コマンドが利用可能な場合、UNIX タイムスタンプ形式で直接更新時刻を取得します。
2. **`ls --time-style`**: `ls --time-style` オプションがサポートされている場合、更新時刻を取得し、タイムスタンプに変換します。
3. **`find -printf`**: `find -printf` オプションが利用可能であれば、UNIX タイムスタンプ形式で更新時刻を取得します。

各方法を順に試し、最初に成功した結果を使用します。いずれの方法も利用できない場合、エラーメッセージが表示されます。

## 必要要件

- UNIX 系のオペレーティングシステム
- 次のいずれかが利用可能であること: `stat`、`ls --time-style`、`find -printf`

## インストール方法

1. `age` スクリプトをダウンロードし、任意のディレクトリに配置します。
2. スクリプトに実行権限を与えます。

   ```sh
   chmod +x age
   ```

3. 任意のディレクトリから `age` を実行できます。

## ライセンス

このプロジェクトは MIT ライセンスのもとで公開されています。

---

こちらの README では、`age` コマンドの概要、使用方法、実装の詳細がわかる内容になっています。
